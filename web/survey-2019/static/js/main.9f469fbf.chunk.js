(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},,,,function(e,t,a){e.exports=a.p+"static/media/logo.fe31856e.png"},function(e,t,a){e.exports=a.p+"static/media/amit_headshot.e90b75b4.png"},function(e,t,a){e.exports=a.p+"static/media/amit_signature.aadfda57.svg"},function(e,t,a){e.exports=a(46)},,,,,,function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},,,function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){e.exports={orange:"#f38b00",yellow:"#ecbc09",green:"#71a850",blue:"#4ac1e0",pink:"#d65d72",purple:"#a367ab",secondaryColors:"#ffa044, #f4d279, #95b974, #72cee7, #e67f8c, #b98dc0, #ffc48b",mobileBreakpoint:"768px",sectionDelay:"300ms",cardHeight:"400px",chartHeight:"310px",horizchartCategoryHeight:"20",horizchartPaddingHeight:"5"}},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(9),c=a(0),i=a.n(c),o=a(19),s=a.n(o),l=(a(29),a(13)),u=a(12),h=a(2),d=a(3),p=a(5),f=a(4),b=a(6),m=a(8),v=(a(30),a(20)),g=a.n(v),y=a(1),O=a.n(y),j=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.scrolledPastIntro;return i.a.createElement("div",{className:O()("Header",{scrolledPastIntro:e})},i.a.createElement("a",{href:"https://www.thetrevorproject.org/",target:"_blank"},i.a.createElement("img",{src:g.a,alt:"logo",className:"logo"})),i.a.createElement("div",{className:"title"},i.a.createElement("span",null,"National Survey on LGBTQ Youth Mental Health 2019")))}}]),t}(c.PureComponent),w=(a(31),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,a=e.isNavOpen,n=t&&a||!t;return i.a.createElement("div",{className:O()("HelpBadge",{showBadge:n})},i.a.createElement("a",{target:"_blank",href:"https://www.thetrevorproject.org/get-help-now/"},t?"Need Help?":"Need Help? We are here for you 24/7: 1-866-488-7386 | Text | Chat"))}}]),t}(c.PureComponent)),E=(a(32),"section"),x="orange",k="Introduction",C="Suicidality & Mental Health",N="Disclosure",R="Discrimination & Physical Harm",H="Conversion Therapy & Change Attempts",S="Youth Support Preferences",z="Diversity",P="Methodology",M="link",A="twitter",_="facebook",D=function(e){return e.replace("&","").replace(/(\s+)/g,"-")},B=[{title:k,color:x,hash:D(k),path:"/assets/info-outline.svg",pathActive:"/assets/info-fill.svg"},{title:C,color:"green",hash:D(C),path:"/assets/t-icons-suicide-outline.svg",pathActive:"/assets/t-icons-suicide-fill.svg"},{title:H,color:"blue",hash:D(H),path:"/assets/change1-outline.svg",pathActive:"/assets/change1-fill.svg"},{title:R,color:"teal",hash:D(R),path:"/assets/trevor-danger-outline.svg",pathActive:"/assets/trevor-danger-fill.svg"},{title:N,color:"yellow",hash:D(N),path:"/assets/heart-outline.svg",pathActive:"/assets/heart-fill.svg"},{title:S,color:"pink",hash:D(S),path:"/assets/chat-outline.svg",pathActive:"/assets/chat-fill.svg"},{title:z,color:x,hash:D(z),path:"/assets/research-outline.svg",pathActive:"/assets/research-fill.svg"},{title:P,color:"purple",hash:D(P),path:"/assets/methodology-outline.svg",pathActive:"/assets/methodology-fill.svg"}].map(function(e,t){return Object(r.a)({},e,{index:t})}),L=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={},a.toggleNav=a.toggleNav.bind(Object(m.a)(Object(m.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"toggleNav",value:function(){this.props.setNavStatus(!this.props.isOpen)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpen,n=t.setNavStatus,r=this.props,c=r.selectedSection,o=r.isMobile;return i.a.createElement("div",{className:O()("Navigation",{isOpen:a}),tabIndex:0,onClick:this.toggleNav,onBlur:function(){n(!1)},onMouseOver:a||o?function(){}:this.toggleNav,onMouseOut:a&&!o?this.toggleNav:function(){}},B.map(function(t){return i.a.createElement("div",{className:O()("nav-tab "+t.color,Object(l.a)({},"secondary",c.title!==t.title)),key:t.title,onClick:function(){return a&&e.props.setSection(t)}},i.a.createElement("img",{src:"/survey-2019"+(c.title===t.title?t.pathActive:t.path)}),a?i.a.createElement("span",null," ",t.title," "):null)}))}}]),t}(c.PureComponent);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var I=i.a.createElement("circle",{fill:"#FFFFFF",cx:15,cy:15,r:15}),q=i.a.createElement("path",{d:"M6.34,25v-2l5-10.59a9.41,9.41,0,0,0,.92-4c0-1.37-.77-2.06-1.75-2.06S8.72,7.12,8.72,8.5v1H6.4V8.55A4.11,4.11,0,0,1,7.54,5.42a4.36,4.36,0,0,1,3-1.09,4.08,4.08,0,0,1,2.87,1,4.19,4.19,0,0,1,1.21,3.21,11.79,11.79,0,0,1-1.18,4.63l-4.56,9.7h5.74V25Z"}),U=i.a.createElement("path",{d:"M22.36,14.7V8.1c0-.84-.28-1.86-1.38-1.89A1.69,1.69,0,0,0,19.19,8.1v6.6h-2.1V4.56h2v.86a5.63,5.63,0,0,1,.81-.65,3.12,3.12,0,0,1,1.62-.44,3.29,3.29,0,0,1,2.15.85,2.84,2.84,0,0,1,.76,2.28V14.7Z"}),F=function(e){var t=e.svgRef,a=T(e,["svgRef"]);return i.a.createElement("svg",V({id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 30 30",height:"30px",width:"30px",ref:t},a),I,q,U)},W=i.a.forwardRef(function(e,t){return i.a.createElement(F,V({svgRef:t},e))}),G=(a.p,a(33),a(17)),J=a(14),Z=(a(36),a(16)),Y=a.n(Z),Q=function(){return window.innerWidth<=+Y.a.mobileBreakpoint.slice(0,-2)},$=function(){var e=navigator.userAgent;return e.indexOf("Firefox")>-1?"Mozilla Firefox":e.indexOf("Opera")>-1||e.indexOf("OPR")>-1?"Opera":e.indexOf("Trident")>-1?"Microsoft Internet Explorer":e.indexOf("Edge")>-1?"Microsoft Edge":e.indexOf("Chrome")>-1?"Google Chrome or Chromium":e.indexOf("Safari")>-1?"Apple Safari":"unknown"},K=function(){var e,t=new URL(window.location.href),a=["",""];try{a=decodeURI(t.searchParams.get("category")).split(",")}catch(r){console.log("e",r)}return e={},Object(l.a)(e,E,B.find(function(e){return e.hash===t.searchParams.get(E)})||B[0]),Object(l.a)(e,"category",[""].concat(Object(n.a)(a))),Object(l.a)(e,"card",+t.hash.replace("#","")),e},X=function(e,t,a){var n=new URLSearchParams(window.location.search);e&&n.set(E,e.hash),a?n.set("category",encodeURI(a.slice(1).toString())):n.delete("category");var r=t?"#"+t:"";return window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString()+r},ee=function(e){if(history.pushState){var t=X(e);window.history.pushState({path:t},"",t)}},te=function(e,t){return e.hash+"-"+t},ae=function(e){var t=e.split(/(-\d)+/,2),a=Object(u.a)(t,2);return[a[0],a[1].replace("-","")]},ne=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".sections-wrapper",n="#"+(t&&t>0?te(e,t):e.hash),r=document.querySelector(n);r||(n="#"+e.hash,r=document.querySelector(n),ee(e));var c=r.classList.contains("Card")?r.parentNode.querySelector(".section-title").offsetHeight:0,i=document.querySelector(a);r&&i&&i.scrollTo({behavior:"smooth",top:r.offsetTop+r.offsetParent.offsetTop-c})},re=(a(37),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,a=e.selectedCategory,n=e.setCategory;return i.a.createElement("div",{className:"Toggle"},t.map(function(e,t){return i.a.createElement("div",{key:e,className:O()("category-"+t,{selected:e===a,"tall-toggle":e.length>20})},Q()?e.replace("/","/ "):e)}),i.a.createElement("label",{className:"switch"},i.a.createElement("input",{readOnly:!0,type:"checkbox",tabIndex:-1,checked:t[1]===a,onClick:function(){return n(t.find(function(e){return e!==a}))}}),i.a.createElement("span",{className:"slider round"}," ")))}}]),t}(c.PureComponent)),ce=(a(38),a(7)),ie=Object(ce.b)(".0%"),oe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).chartRef=void 0,a.chartRef=Object(c.createRef)(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.chart.data;Object(ce.j)(this.chartRef.current).selectAll(".label-data").transition().duration(500).tween("html",function(a,n){var r=e.chart.data[n].value,c=t[n].value,i=Object(ce.j)(this),o=Object(ce.d)(r,c);return function(e){i.html(ie(o(e)))}})}},{key:"render",value:function(){var e=this.props,t=e.chart,a=e.color,n=e.inView,r=t.data,c=t.chart_type,o=r.length>2?"vertical-many":"subset"===c?"subset":"vertical-two",s="subset"===o,l=this.chartRef.current&&this.chartRef.current.offsetHeight||0,u="subset"===o&&r[0].label_group===r[1].label_group,h="subset"===o&&r[0].label===r[1].label;return i.a.createElement("div",{className:O()("VerticalBarChart",o,a),ref:this.chartRef},r.map(function(e,t){return i.a.createElement("div",{key:t,className:O()(o,"bar-group","pos-"+(t<r.length/2?"left":"right"))},i.a.createElement("div",{className:O()(s?"bar-fill":"bar-dots","pos-"+(t<r.length/2?"left":"right"))},s?null:Object(ce.g)(0,Math.floor(l/20)).map(function(e,t){return i.a.createElement("span",{key:"dot_"+t,className:"dot"})})),i.a.createElement("div",{className:O()("bar-measure",o,{growUp:n}),style:{height:ie(e.value)}},i.a.createElement("div",{className:O()("label-data",{mid:e.value<(Q()?.11:.09),small:e.value<(Q()?.07:.05)})},ie(e.value))),h&&0===t?null:i.a.createElement("div",{className:"label-measure"},e.label),!s||u&&0===t?null:i.a.createElement("div",{className:"label-subset"},e.label_group))}))}}]),t}(c.PureComponent),se=(a(39),Object(ce.b)(".0%")),le=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).chartRef=void 0,a.state={width:0},a.chartRef=Object(c.createRef)(),a.onResize=a.onResize.bind(Object(m.a)(Object(m.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){e.onResize()}),this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize")}},{key:"onResize",value:function(){var e=this.chartRef.current&&this.chartRef.current.getBoundingClientRect().width;this.setState({width:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.chart.data;Object(ce.j)(this.chartRef.current).selectAll(".label-data").transition().duration(500).tween("html",function(a,n){var r=e.chart.data[n].value,c=t[n].value,i=Object(ce.j)(this),o=Object(ce.d)(r,c);return function(e){i.html(se(o(e)))}})}},{key:"render",value:function(){var e=this.props,t=e.chart,a=e.color,n=e.inView,r=t.data,o=t.chart_type,s=this.state.width,l=Array.from(Object(J.a)(r,function(e){return e.label_group})),u=Object(ce.h)().domain([1,0]).range([s||0,0]);return i.a.createElement("div",{className:O()("HorizontalBarChart",a),ref:this.chartRef},l.map(function(e,t){return i.a.createElement(c.Fragment,{key:t},i.a.createElement("div",{className:"label-group-div"},i.a.createElement("hr",null),i.a.createElement("span",{className:"label-group"},e[0])),e[1].map(function(e,t){var a=e.label.length>Math.abs(Math.floor(u(e.value)-45))/9.2;return i.a.createElement("div",{key:t,className:O()("bar-group")},i.a.createElement("div",{className:O()("bar-dots"),style:{width:s||0}},Object(ce.g)(0,Math.floor((s||0)/20)).map(function(e,t){return i.a.createElement("span",{key:"dot_"+t,className:"dot"})})),i.a.createElement("div",{className:O()("bar-measure",o,{growOut:n,truncated:a}),style:{width:se(e.value)}},i.a.createElement("div",{className:"label-measure"},i.a.createElement("span",{className:"measure"},function e(t,a){var n=Math.round(a);return t.length<=n||t.indexOf(" ")>n||!~t.indexOf(" ")?t:" "===t[n]?t.slice(0,n)+"...":e(t.slice(0,n),n-1)}(e.label,Math.abs(Math.floor(u(e.value)-45))/9.2)),a?i.a.createElement("span",{className:"measure-hover"},e.label," (",se(e.value),")"):null),i.a.createElement("div",{className:"label-data"},se(e.value))))}))}))}}]),t}(c.PureComponent),ue=(a(40),Object(ce.b)(".0%")),he=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.showLabel,r=t.centroid,c=t.label,o=t.value,s=r[0]<0?"left":"right",l=c.replace("/","/ ").split(" "),u=l.reduce(function(e,t,a){var r=e[e.length-1]+(0===a?"":" ")+t;return r.length<20?[].concat(Object(n.a)(e.slice(0,e.length-1)),[r]):e.concat(t)},[""]),h=5.8*Math.max.apply(Math,Object(n.a)(u.map(function(e){var t=e.length;return(e.indexOf("m")>=0||e.indexOf("M")>=0)&&(t+=1),(e.indexOf("w")>=0||e.indexOf("W")>=0)&&(t+=1),t})).concat([5])),d=15*(u.length+1);return i.a.createElement("g",{className:O()("label-group",{show:a},s),transform:"translate(".concat(r.map(function(t,a){var n=2*t,r=e.props.chartWidth/2;return 1===a?n-d/2:Math.abs(n)+h>r?(r-h)*(n/Math.abs(n)):n}),")")},i.a.createElement("rect",{className:O()("label-data-rect"),width:h,height:d,transform:"left"===s?"translate(".concat(-h,",0)"):"",rx:.5,filter:"Apple Safari"!==$()?"url(#svg-drop-shadow)":"none"}),i.a.createElement("text",{className:O()("label-data-text",s),dy:"1em"},i.a.createElement("tspan",{className:"value",x:"0"},o),u.map(function(e,t){return i.a.createElement("tspan",{key:t,className:"label",x:"0",dy:"1em"},e)})))}}]),t}(c.PureComponent),de=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).chartDivRef=void 0,a.svgRef=void 0,a.size=void 0,a.colors=void 0,a.state={width:0,hoveredSlice:null},a.svgRef=Object(c.createRef)(),a.chartDivRef=Object(c.createRef)(),a.onResize=a.onResize.bind(Object(m.a)(Object(m.a)(a))),a.generatePie=a.generatePie.bind(Object(m.a)(Object(m.a)(a))),a.size=+Y.a.chartHeight.slice(0,-2),a.colors=Y.a.secondaryColors.split(", "),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.size=this.chartDivRef.current&&this.chartDivRef.current.offsetHeight||+Y.a.chartHeight.slice(0,-2),window.addEventListener("resize",function(){e.onResize()}),this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize")}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.chart.data,a=this.state.width,n=Math.min(a,this.size)/2-40,r=Object(ce.i)().domain(Object(ce.g)(0,7)).range(this.colors),c=Object(ce.a)().innerRadius(0).outerRadius(n),i=Object(ce.j)(this.svgRef.current).select(".pie").selectAll(".pie-path").data(this.generatePie(t)),o=i.enter().append("path").attr("class","pie-path").attr("fill",function(e){return r(e.index)}).on("mouseenter",function(t){e.setState({hoveredSlice:t.index})});i.exit().transition().duration(500).attrTween("d",function(e){var t=e.startAngle,a=e.endAngle,n=2*Math.PI,r=Object(ce.d)(a,n),i=Object(ce.d)(t,n);return function(t){return e.endAngle=r(t),e.startAngle=i(t),c(e)||null}||null}).remove(),i=o.merge(i).transition().duration(500).attrTween("d",function(e){this._current=this._current||e;var t=Object(ce.c)(this._current,e);return this._current=t(0),function(e){return c(t(e))}}),o.transition().duration(500).attrTween("d",function(e){var t=e.startAngle,a=e.endAngle,n=2*Math.PI,r=Object(ce.d)(n,t),i=Object(ce.d)(n,a);return function(t){return e.endAngle=r(t),e.startAngle=i(t),c(e)}})}},{key:"onResize",value:function(){var e=this.chartDivRef.current&&this.chartDivRef.current.getBoundingClientRect().width||0;this.setState({width:e})}},{key:"generatePie",value:function(e){return Object(ce.f)().value(function(e){return e.value})(e)}},{key:"render",value:function(){var e=this.props,t=e.chart,a=e.color,n=t.data,c=this.state,o=c.width,s=c.hoveredSlice,l=Math.min(o,this.size)/2-40,u=this.generatePie(n),h=Object(ce.a)().innerRadius(0).outerRadius(l);return i.a.createElement("div",{className:O()("PieChart",a),ref:this.chartDivRef},i.a.createElement("svg",{id:"svg",ref:this.svgRef,height:this.size,width:this.size},i.a.createElement("defs",null,i.a.createElement("filter",{id:"svg-drop-shadow",x:"-10",y:"-10",width:"200",height:"200"},i.a.createElement("feOffset",{result:"offOut",in:"SourceAlpha",dx:"2",dy:"2"}),i.a.createElement("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:" 0.8 0 0 0 0 0 0.8 0 0 0 0 0 0.8 0 0 0 0 0 0.4 0"}),i.a.createElement("feGaussianBlur",{result:"blurOut",in:"matrixOut",stdDeviation:"5"}),i.a.createElement("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"}))),i.a.createElement("g",{className:"pie",transform:"translate(".concat(o/2,", ").concat(this.size/2,")")}),i.a.createElement("g",{className:"labels",transform:"translate(".concat(o/2,", ").concat(this.size/2,")")},u.map(function(e,t){return i.a.createElement(he,{key:t,chartWidth:o,showLabel:e.value>(Q()?.12:.07)||u.length<3||s===e.index,centroid:h.centroid((a=e,Object(r.a)({},a,{innerRadius:0,outerRadius:l}))),value:ue(e.value),label:e.data.label});var a}))))}}]),t}(c.PureComponent),pe=(a(41),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.chart;return i.a.createElement("div",{className:"WordCloud"},e.sort().map(function(e,t){return i.a.createElement("span",{key:t,className:"speech-bubble"},e)}))}}]),t}(c.PureComponent)),fe=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.chartData,a=e.color,n=e.inView;switch(t.chart_type){case"subset":case"vertical":return i.a.createElement(oe,{chart:t,color:a,inView:n});case"pie":return i.a.createElement(de,{chart:Object(r.a)({},t,{data:t.data.sort(function(e,t){return t.value-e.value})}),color:a});case"horizontal":return i.a.createElement(le,{chart:t,color:a,inView:n});case"annotation":return i.a.createElement(me,{annotation:t.data});case"word":return i.a.createElement(pe,{chart:t.data.map(function(e){return e.label})})}}}]),t}(c.PureComponent),be=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.positionGroup,a=e.setCategory,n=e.selectedCategory,r=e.color,c=e.inView,o=e.isMobile,s=t.position,l=t.data,u=t.categories,h=!!l.graph_title,d=!!n;return i.a.createElement("div",{className:O()("chart-wrapper","pos-"+s,l.chart_type)},l.graph_title?i.a.createElement("div",{className:O()("graph-title",{short:l.graph_title.length>(o?90:200)})},i.a.createElement("span",null,l.graph_title)):i.a.createElement("div",null),n?i.a.createElement(re,{selectedCategory:n,categories:u,setCategory:function(e){return a(s,e)}}):i.a.createElement("div",null),i.a.createElement(fe,{chartData:l,color:r,title:h,toggle:d,inView:c}))}}]),t}(c.PureComponent),me=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.annotation;return i.a.createElement("div",{className:O()("annotation",{"narrow-margin":e.length>500})},i.a.createElement("div",{className:"content"},e.map(function(e,t){return i.a.createElement("div",{key:t,className:e.label_group},e.label.split("^").map(function(e,t){return i.a.createElement("span",{key:t,className:O()({bold:t%2===1})},e)}))})))}}]),t}(c.PureComponent),ve=Object(G.a)(function(e,t){return e.data},function(e){return Array.from(Object(J.a)(e,function(e){return e.position||0}),function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return{position:a,data:n,categories:n.map(function(e){return e.category})}})}),ge=Object(G.a)(ve,function(e,t){return t.selectedCategories},function(e,t){return e.map(function(e){return{position:e.position,data:e.data.find(function(a){return a.category===t[e.position]}),categories:e.categories}})}),ye=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).cardRef=void 0;var n=ve(a.props,a.state);return a.state={selectedCategories:[null,null,null].map(function(e,t){var a=n.find(function(e){return e.position===t});return a?a.categories[0]:null})},a.setCategory=a.setCategory.bind(Object(m.a)(Object(m.a)(a))),a.cardRef=Object(c.createRef)(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.section,n=e.observer,r=K();if(this.cardRef.current&&n.observe(this.cardRef.current),a.hash===r[E].hash&&t[0].card===r.card&&r.category){var c=ve(this.props,this.state);r.category.reduce(function(e,t,a){var n=c.find(function(e){return e.position===a});return n?n.categories.includes(t)&&e:e},!0)?this.setState({selectedCategories:r.category}):ee(a)}}},{key:"setCategory",value:function(e,t){this.setState(function(a){var r=Object(n.a)(a.selectedCategories);return r.splice(e,1,t),{selectedCategories:r}})}},{key:"render",value:function(){var e=this,t=this.state.selectedCategories,a=this.props,n=a.section,r=a.inView,c=a.isMobile,o=ge(this.props,this.state),s=o[0].data,l=s.card;s.card_title,s.annotation,s.section;return i.a.createElement("div",{className:O()("Card",{"no-toggle":o.reduce(function(e,t){return e&&1===t.categories.length},!0)}),id:te(n,l),ref:this.cardRef},o.map(function(a){return i.a.createElement(be,{key:a.data.section+"-"+l+"-"+a.position,positionGroup:a,setCategory:e.setCategory,selectedCategory:t[a.position],color:n.color,inView:r,isMobile:c})}))}}]),t}(c.PureComponent),Oe=(a(42),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.setSection;return i.a.createElement("div",{className:"NavButtons"},B.slice(1).map(function(t){return i.a.createElement("button",{key:t.title,className:"button "+t.color,onClick:function(){return e(t)}},i.a.createElement("img",{src:"/survey-2019"+t.path}),i.a.createElement("span",null,t.title))}))}}]),t}(c.PureComponent));a(43);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ee=i.a.createElement("defs",null,i.a.createElement("style",null,".cls-1{fill:#fff;}")),xe=i.a.createElement("title",null,"Share"),ke=i.a.createElement("path",{className:"cls-1",d:"M15,0C6.7,0,0,6.7,0,15c0,8.3,6.7,15,15,15c8.3,0,15-6.7,15-15C30,6.7,23.3,0,15,0z M11.5,15 c0,0.2,0,0.5-0.1,0.7l6.1,3.4c1.2-1.1,3-1.2,4.3-0.3c1.5,1.1,1.8,3.2,0.7,4.7c-1.1,1.5-3.2,1.8-4.7,0.7c-0.9-0.6-1.4-1.7-1.4-2.7 c0-0.2,0-0.5,0.1-0.7l-6.1-3.4c-1.2,1.1-3,1.2-4.3,0.2c-1.5-1.1-1.8-3.2-0.7-4.7c1.1-1.5,3.2-1.8,4.7-0.7c0.1,0.1,0.2,0.2,0.3,0.3 l6.1-3.4c-0.1-0.2-0.1-0.5-0.1-0.7C16.4,6.5,18,5,19.8,5c1.9,0,3.4,1.5,3.4,3.4c0,1.9-1.5,3.4-3.4,3.4c-0.9,0-1.7-0.3-2.3-0.9 l-6.1,3.5C11.5,14.5,11.5,14.8,11.5,15z"}),Ce=function(e){var t=e.svgRef,a=we(e,["svgRef"]);return i.a.createElement("svg",je({id:"Layer_1","data-name":"Layer 1",width:30,height:30,viewBox:"0 0 30 30",ref:t},a),Ee,xe,ke)},Ne=i.a.forwardRef(function(e,t){return i.a.createElement(Ce,je({svgRef:t},e))});a.p;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Se=i.a.createElement("defs",null,i.a.createElement("style",null,".cls-1{fill:#fff;}")),ze=i.a.createElement("title",null,"Facebook"),Pe=i.a.createElement("path",{className:"cls-1",d:"M15,0A15,15,0,1,0,30,15,15,15,0,0,0,15,0Zm5.19,8.32H18.31c-1.48,0-1.76.7-1.76,1.73v2.27h3.52l-.46,3.56H16.55V25H12.88V15.88H9.81V12.32h3.07V9.7c0-3,1.86-4.7,4.57-4.7a25.92,25.92,0,0,1,2.74.14Z"}),Me=function(e){var t=e.svgRef,a=He(e,["svgRef"]);return i.a.createElement("svg",Re({id:"Layer_1","data-name":"Layer 1",width:30,height:30,viewBox:"0 0 30 30",ref:t},a),Se,ze,Pe)},Ae=i.a.forwardRef(function(e,t){return i.a.createElement(Me,Re({svgRef:t},e))});a.p;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Be=i.a.createElement("defs",null,i.a.createElement("style",null,".cls-1{fill:#fff;}")),Le=i.a.createElement("title",null,"Twitter"),Ve=i.a.createElement("path",{className:"cls-1",d:"M15,0C6.7,0,0,6.7,0,15s6.7,15,15,15s15-6.7,15-15S23.3,0,15,0z M23,11.5c0,0.2,0,0.3,0,0.5 c0,5.6-4.4,10.2-10,10.2c-0.1,0-0.1,0-0.2,0c-2,0-3.9-0.6-5.5-1.6c0.3,0,0.6,0.1,0.9,0.1c1.6,0,3.2-0.5,4.5-1.5 c-1.5,0-2.9-1-3.3-2.5c0.2,0,0.4,0.1,0.7,0.1c0.3,0,0.6,0,0.9-0.1c-1.7-0.3-2.9-1.8-2.9-3.5c0.5,0.3,1.1,0.4,1.6,0.4 c-1.6-1-2.1-3.1-1.1-4.8c1.8,2.2,4.5,3.6,7.4,3.7c-0.1-0.3-0.1-0.5-0.1-0.8c0-2,1.5-3.6,3.5-3.7c1,0,2,0.4,2.7,1.2 c0.8-0.2,1.6-0.4,2.3-0.9c-0.3,0.8-0.8,1.5-1.6,2c0.7-0.1,1.4-0.3,2-0.6C24.3,10.4,23.7,11,23,11.5z"}),Te=function(e){var t=e.svgRef,a=De(e,["svgRef"]);return i.a.createElement("svg",_e({id:"Layer_1","data-name":"Layer 1",width:30,height:30,viewBox:"0 0 30 30",ref:t},a),Be,Le,Ve)},Ie=i.a.forwardRef(function(e,t){return i.a.createElement(Te,_e({svgRef:t},e))}),qe=(a.p,a(11)),Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";return window.open(e.href,t)},Fe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).textArea=void 0,a.socials=[{social:M,link:new URL("https://developer.mozilla.org/en-US/docs/Web/API/URL/URL"),handler:function(e,t){return a.copyToClipboard(e)},icon:Ne},{social:_,link:new URL("https://www.facebook.com/sharer/sharer.php?u="+a.props.link),handler:function(e,t){console.log(t.link.href),Ue(t.link)},icon:Ae},{social:A,link:new URL("https://twitter.com/intent/tweet?text="+encodeURI("Check out the Trevor Project's National Survey Results. See them here:")+"&url="+a.props.link),handler:function(e,t){return Ue(t.link)},icon:Ie}],a.state={linkCopied:!1},a.textArea=Object(c.createRef)(),a.copyToClipboard=a.copyToClipboard.bind(Object(m.a)(Object(m.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"copyToClipboard",value:function(e){var t=navigator.userAgent.match(/ipad|iphone/i);this.textArea.current&&(t?this.textArea.current.setSelectionRange(0,this.textArea.current.value.length):this.textArea.current.select(),document.execCommand("copy"))}},{key:"render",value:function(){var e=this,t=this.props.link,a=this.state.linkCopied;return i.a.createElement("div",{className:O()("SocialButtons",{linkCopied:a})},this.socials.map(function(e,t){return i.a.createElement(c.Fragment,{key:"social-button-"+t},0===t?i.a.createElement("span",{key:t,className:O()("copy-text",{linkCopied:a})},"link copied"):null,i.a.createElement(e.icon,{key:e.social,className:O()("social-button",e.social),onClick:function(t){return e.handler(t,e)}}))}),i.a.createElement("input",{readOnly:!0,contentEditable:!0,tabIndex:-1,ref:this.textArea,value:t,onCopy:function(){e.setState({linkCopied:!0}),Object(qe.b)(function(){return e.setState({linkCopied:!1})},3e3)}}))}}]),t}(c.PureComponent),We=(a(44),a(21)),Ge=a.n(We),Je=a(22),Ze=a.n(Je),Ye=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).cardRef=void 0,a.state={},a.cardRef=Object(c.createRef)(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.observer;this.cardRef.current&&e.observe(this.cardRef.current)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.data,n=e.title,o=e.card,s=e.section,l=e.introCard,h=e.setSection,d="text_nested"===t&&Array.from(Object(J.a)(a.map(function(e){return Object(r.a)({},e,{column:e.value?+e.value&&10*+e.value-10:0})}),function(e){return e.value?Math.floor(+e.value):0},function(e){return e.column}),function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return[a,Array.from(n)]});return i.a.createElement("div",{className:"TextCard",ref:this.cardRef,id:te(s,o)},n&&i.a.createElement("div",{className:"title"},n),i.a.createElement("div",{className:O()(s.color,{"nested-text-content":"text_nested"===t,"text-content":"text"===t,subheader:"subheader"===t})},d&&d.map(function(e,t){var a=e[1].length;return i.a.createElement("div",{key:t,className:O()("nested-row-section","row-".concat(t),{"many-columns":a>1})},e[1].map(function(e,t){return i.a.createElement("div",{key:t,className:"column-".concat(t+1),style:{gridColumn:"".concat(t+1," / ").concat(t+2)}},e[1].map(function(e){return i.a.createElement("div",{key:e.label,className:e.label_group},i.a.createElement("span",null,e.label))}))}))}),!d&&a&&a.map(function(e,t){return i.a.createElement("div",{key:t,className:O()("text-section",e.label_group)},e.label.split("^").map(function(e,t){return i.a.createElement("span",{key:t,className:O()({bold:t%2===1})},e)}))}),l&&i.a.createElement(c.Fragment,null,i.a.createElement("div",null,i.a.createElement("img",{src:Ge.a,className:"headshot",height:80}),i.a.createElement("img",{src:Ze.a,className:"signature",height:80})),i.a.createElement("div",null,i.a.createElement("span",{className:"bold"},"Amit Paley"),i.a.createElement("br",null),i.a.createElement("span",null,"CEO & Executive Director "),i.a.createElement("br",null),i.a.createElement("span",null," The Trevor Project")),i.a.createElement(Oe,{setSection:h}),i.a.createElement("div",null,"This report is also available in a",i.a.createElement("a",{href:"https://www.thetrevorproject.org/wp-content/uploads/2019/06/The-Trevor-Project-National-Survey-Results-2019.pdf",target:"_blank"}," ","downloadable PDF here"),"."))),"subheader"===t&&i.a.createElement(Fe,{link:X(s)}))}}]),t}(c.PureComponent),Qe=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).section=void 0;var n=a.props.data,r=n.title,c=n.color,i=n.hash,o=n.index,s=n.path,l=n.pathActive;return a.section={title:r,color:c,hash:i,index:o,path:s,pathActive:l},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(Object(r.a)({},e.inView))!==JSON.stringify(Object(r.a)({},this.props.inView))}},{key:"render",value:function(){var e=this,t=this.props,a=t.setSection,n=t.observer,r=t.inView,c=t.isMobile,o=t.isLast,s=this.props.data,l=s.cards,u=s.title,h=s.color,d=s.hash,p=s.index,f=s.path,b=s.pathActive;return i.a.createElement("div",{className:O()("Section",h),id:d},i.a.createElement("div",{className:"section-title"},u),l.map(function(t){return"text"===t.questions[0].chart_type||"text_nested"===t.questions[0].chart_type||"subheader"===t.questions[0].chart_type?i.a.createElement(Ye,{key:t.card,type:t.questions[0].chart_type,data:t.questions[0].data,title:t.questions[0].graph_title,card:t.questions[0].card,section:{title:u,color:h,hash:d,index:p,path:f,pathActive:b},introCard:u===k&&"text"===t.questions[0].chart_type,setSection:a,observer:n}):i.a.createElement(ye,{key:t.card,data:t.questions,section:e.section,observer:n,inView:!!r&&r[t.card],isMobile:c})}),o&&i.a.createElement("div",{className:"two-n-logo"},i.a.createElement("span",null,"designed and developed by "),i.a.createElement("a",{href:"http://two-n.com/",target:"_blank",tabIndex:-1},i.a.createElement(W,null))))}}]),t}(c.Component),$e=K(),Ke=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).observer=void 0,a.observerOptions=void 0,a.sectionHeights=void 0,a.tabHeight=void 0,a.state={section:$e[E],isMobile:Q(),inView:{},isNavOpen:!1},a.observerOptions={root:null,threshold:a.state.isMobile?.1:.25},a.observer=new IntersectionObserver(a.handleObserver.bind(Object(m.a)(Object(m.a)(a))),a.observerOptions),a.sectionHeights=[],a.tabHeight=0,a.setSection=a.setSection.bind(Object(m.a)(Object(m.a)(a))),a.handleResize=a.handleResize.bind(Object(m.a)(Object(m.a)(a))),a.onScroll=a.onScroll.bind(Object(m.a)(Object(m.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleObserver",value:function(e){var t=this.state.section,a=e.find(function(e){return e.isIntersecting});if(a){var n=ae(a.target.id),c=Object(u.a)(n,2),i=c[0];c[1];i!==t.hash&&B.find(function(e){return e.hash===i})}this.setState(function(t){return Object(r.a)({},t,{inView:Object(r.a)({},e.reduce(function(e,t){var a=ae(t.target.id),n=Object(u.a)(a,2),c=n[0],i=n[1];return Object(r.a)({},e,Object(l.a)({},c,Object(r.a)({},e[c],Object(l.a)({},i,t.isIntersecting))))},t.inView))})})}},{key:"componentDidMount",value:function(){var e=this.state.section;Object(ce.k)(function(){return ne(e,$e.card)},500),window.addEventListener("resize",this.handleResize),this.handleResize(),document.querySelector(".sections-wrapper").addEventListener("scroll",this.onScroll)}},{key:"handleResize",value:function(){var e=this,t=Q();t!==this.state.isMobile&&this.setState({isMobile:t});var a=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(a,"px"));var r=document.querySelector(".sections-wrapper");this.tabHeight=Math.round(r.offsetHeight/B.length),setTimeout(function(){e.sectionHeights=Object(n.a)(r.children).map(function(e){return e.offsetHeight}).reduce(function(e,t,a){return[].concat(Object(n.a)(e),[(e[a-1]?e[a-1]:0)+t])},[])},250)}},{key:"onScroll",value:function(e){var t=this,a=this.state.section.index,n=e.target.scrollTop,r=0;if(this.sectionHeights.forEach(function(e,a){n>=e-(a+1)*t.tabHeight&&(r=a+1)}),r!==a){var c=B.find(function(e){return e.index===r});c&&(Object(ce.k)(function(){ee(c)},1e3),this.setState({section:c}))}}},{key:"componentWillUnmount",value:function(){this.observer.disconnect(),window.removeEventListener("resize",this.handleResize),document.querySelector(".sections-wrapper").removeEventListener("scroll",this.onScroll)}},{key:"setSection",value:function(e){ee(e),e.title!==this.state.section.title&&ne(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.inView,n=t.isMobile,r=t.isNavOpen,c=!!a[B[0].hash]&&!Object.values(a[B[0].hash]).reduce(function(e,t){return e||t},!1);return i.a.createElement("div",{className:"App"},i.a.createElement(j,{scrolledPastIntro:c}),i.a.createElement(w,{isMobile:n,isNavOpen:r}),i.a.createElement("div",{className:"main"},i.a.createElement(L,{setSection:this.setSection,selectedSection:this.state.section,isMobile:n,isOpen:r,setNavStatus:function(t){return e.setState({isNavOpen:t})}}),i.a.createElement("div",{className:"sections-wrapper",tabIndex:0},this.props.data.map(function(t,r){return i.a.createElement(Qe,{key:t.index+t.title,data:t,setSection:e.setSection,observer:e.observer,inView:a[t.hash],isMobile:n,isLast:r===e.props.data.length-1})}))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(45);var Xe=function(e){var t=e.reduce(function(e,t){if(!e[t.section]){var a=B.find(function(e){return e.title===t.section});e[t.section]=Object(r.a)({},a,{cards:[]})}return e[t.section].cards=[].concat(Object(n.a)(e[t.section].cards),[t]),e},{});for(var a in t){var c=t[a].cards.reduce(function(e,t){return e[t.card]||(e[t.card]={card:t.card,questions:[]}),e[t.card].questions=[].concat(Object(n.a)(e[t.card].questions),[t]),e},{});t[a].cards=Object.values(c)}return Object.values(t).sort(function(e,t){return e.index-t.index})};Object(ce.e)("/survey-2019/data/data.json").then(function(e){s.a.render(i.a.createElement(Ke,{data:Xe(e)}),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[23,1,2]]]);
//# sourceMappingURL=main.9f469fbf.chunk.js.map
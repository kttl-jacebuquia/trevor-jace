(this.webpackJsonptrevor=this.webpackJsonptrevor||[]).push([[9],{0:function(e,n){e.exports=jQuery},10:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t(12);function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){Object(i.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}},12:function(e,n,t){"use strict";function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return i}))},3:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,"a",(function(){return i}))},380:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(10),o=t(3),s=t(4),c=function(){function e(n){var t=this;Object(o.a)(this,e),this.handleCloseClick=function(e){e.preventDefault();var n=e.originalEvent;window.sessionStorage.setItem(t.sessionName,Date.now()),t.remove({trueClick:n.offsetX>0&&n.offsetY>0}),t.updateSiteBannerCSSvariable()},this.$eventEmitter=r()("<div></div>"),this.$container=r()("#siteBannerContainer"),this.$banner=null,this.bannerObj=n,this.sessionName="sessionBannerObj-".concat(this.bannerObj.id),this.containerHeight=0,this.id=n.id}return Object(s.a)(e,[{key:"isRenderable",value:function(){return!this.isClosed()&&this.isAllowedInPage()}},{key:"isAllowedInPage",value:function(){var e=document.querySelector('meta[name="post-id"]'),n=null===e||void 0===e?void 0:e.getAttribute("content");return Number(this.bannerObj.exclude_in||"")!==Number(n||0)}},{key:"render",value:function(){this.build(),this.insert()}},{key:"insert",value:function(){"custom"===this.$banner.data("type")?this.$banner.prependTo(this.$container):this.$banner.appendTo(this.$container),this.updateSiteBannerCSSvariable()}},{key:"build",value:function(){var e=this.bannerObj;this.$banner=r()("<div/>",{class:"site-banner__".concat(e.type),id:"site-banner-".concat(e.id),"data-type":e.type,"data-id":e.id,tabindex:0});var n=r()("<div class='site-banner__container'><i class='site-banner__warning'></i></div>").appendTo(this.$banner),t=r()("<p class='site-banner__text'></p>").appendTo(n);e.title&&r()("<span/>",{class:"site-banner__title",html:"".concat(e.title," ")}).appendTo(t),e.desc&&r()("<span/>",{class:"site-banner__description",html:e.desc}).appendTo(t),"pride_promo"===e.type&&r()("<a/>",{class:"site-banner__pride-promo-link",text:e.link_text,href:e.link_url}).appendTo(t),r()("<button aria-label='click to close banner' class='site-banner__close-btn'><i class='trevor-ti-x text-indigo'></i></button>").on("click",this.handleCloseClick).appendTo(n)}},{key:"isClosed",value:function(){return Object.keys(window.sessionStorage).includes(this.sessionName)}},{key:"remove",value:function(e){this.$banner.remove(),this.$eventEmitter.trigger("remove",e)}},{key:"updateSiteBannerCSSvariable",value:function(){var e=document.documentElement;this.containerHeight=this.$container.height(),e.style.setProperty("--site-banner-height","".concat(this.containerHeight,"px"))}},{key:"on",value:function(e,n){var t=this;this.$eventEmitter.on(e,(function(e,i){n.apply(t,[t,Object(a.a)(Object(a.a)({},e),{},{data:i})])}))}}]),e}();window.trevorWP=window.trevorWP||{},window.trevorWP.siteBanners=function(){var e={},n=function(n,t){var i,r=n.id;delete e[r];var a=Object.values(e)[0];a?a.$banner.focus():!1===(null===(i=t.data)||void 0===i?void 0:i.trueClick)&&document.body.focus()};r.a.get("/wp-json/trevor/v1/site-banners?nonce="+Date.now()).then((function(t){t.success&&t.banners.map((function(e){return new c(e)})).filter((function(e){return e.isRenderable()})).slice(0,2).forEach((function(t){t.render(),t.on("remove",n),e[t.id]=t}))}))}},4:function(e,n,t){"use strict";function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}t.d(n,"a",(function(){return r}))}},[[380,0]]]);
//# sourceMappingURL=site-banners.js.map